{"version":3,"sources":["webpack:///webpack/bootstrap aee8fcc29c1582553e3b","webpack:///./sample/coffee/common.coffee","webpack:///./sample/coffee/ctrl/imageUploadController.coffee","webpack:///./sample/coffee/ctrl/imageUploadModalController.coffee","webpack:///./sample/coffee/ctrl/imageListController.coffee","webpack:///./sample/coffee/ctrl/imageModalController.coffee"],"names":[],"mappings":"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","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap aee8fcc29c1582553e3b\n **/","app = angular.module('albumSample', [\n  \"ui.bootstrap\"\n])\napp.controller \"imageListController\",require \"./ctrl/imageListController\"\napp.controller \"imageModalController\",require \"./ctrl/imageModalController\"\napp.controller \"imageUploadController\",require \"./ctrl/imageUploadController\"\napp.controller \"imageUploadModalController\",require \"./ctrl/imageUploadModalController\"\n\n\n\n/** WEBPACK FOOTER **\n ** ./sample/coffee/common.coffee\n **/","setUploadEvent = ($scope) ->\n  $ ->\n    url = '/api.php/upload/data'\n    $(document).on 'change', '#fileupload', ->\n      $file = $(this).prop('files')[0]\n      if !$file\n        console.log 'ファイルの選択がない'\n        return\n      console.log 'ファイルが選択されました', $file\n      $reader = new FileReader\n      $reader.readAsDataURL $file, 'UTF-8'\n      $reader.onload = (evt) ->\n        console.log '読み込み完了', evt, this\n        $scope.image.file = $file.name\n        $scope.image.data = @result\n        $scope.$apply()\n        $scope.openUploadModal()\n#        http = $.post url,\n#          file: $file.name\n#          data: @result\n#        http.success (data) ->\n#          console.log '転送完了'\n#          $file = null\n\n\nmodule.exports = [\n  \"$scope\",\"$modal\"\n  ($scope,$modal)->\n    console.log \"upload Controller\"\n    setUploadEvent $scope\n\n    $scope.image = {};\n\n    $scope.openUploadModal = ()->\n      modalInstance = $modal.open\n        templateUrl: \"uploadModal.html\"\n        controller: \"imageUploadModalController\"\n        resolve:\n          image: ->\n            return $scope.image\n      modalInstance.result.then ->\n        console.log \"アップロード完了\"\n]\n\n\n/** WEBPACK FOOTER **\n ** ./sample/coffee/ctrl/imageUploadController.coffee\n **/","module.exports = [\n  \"$scope\",\"$modalInstance\",\"image\",\"$http\"\n  ($scope,$modalInstance,image,$http)->\n    console.log \"upload Modal Controller\",image\n    $scope.image = image;\n    $scope.upload = ->\n      $http.post \"/api.php/upload/data\",image\n\n\n]\n\n\n/** WEBPACK FOOTER **\n ** ./sample/coffee/ctrl/imageUploadModalController.coffee\n **/","loadList = ($scope) ->\n  console.log 'データを送信します', $scope\n  $.get '/api.php/photo/list/' + $scope.category + '/', {}, (data) ->\n    $scope.$apply ->\n      if data.list\n        $scope.lists.length = 0\n        $scope.lists.push.apply $scope.lists, data.list\n        console.log data\n      else\n        console.error 'データの受信形式が異常です。'\n\nmodule.exports = [\n  '$scope','$modal',\n  ($scope,$modal) ->\n    console.log 'hogehoge controller'\n    $scope.lists = []\n    $scope.alerts = [];\n    $scope.category = 'common'\n    $scope.srcMode = \"hashed\" # hashed redirect origin\n\n    $scope.reload = ->\n      loadList $scope\n    loadList $scope\n\n    $scope.getSrc = (apiEntry,index)->\n      if image = $scope.lists[index]\n        if $scope.srcMode == \"hashed\"\n          return image.hashedUrl\n        else if $scope.srcMode == \"redirect\"\n          return apiEntry+image.redirectUrl\n        else if $scope.srcMode == \"origin\"\n          return apiEntry+image.originUrl\n        else\n          console.error \"invalid srcMode\",$scope.srcMode;\n      else\n        console.error \"image index #{index} is out of range\"\n\n\n\n    $scope.openModal = ()->\n      image = $scope.lists[this.$index]\n      console.log \"open modal for\",image\n      if image\n        modalInstance = $modal.open\n          templateUrl: \"imageModal.html\"\n          controller: \"imageModalController\"\n          resolve:\n            image: ->\n              return image\n        modalInstance.result.then (status)->\n          if status == \"deleted\"\n            $scope.reload();\n            $scope.alerts.push\n              type: \"success\"\n              msg: \"delete image completed\"\n          else if status == \"failToDelete\"\n            $scope.alerts.push\n              type: \"danger\"\n              msg: \"fail to delete image\"\n    $scope.closeAlert = (index)->\n      $scope.alerts.splice index,1\n\n\n]\n\n\n\n/** WEBPACK FOOTER **\n ** ./sample/coffee/ctrl/imageListController.coffee\n **/","module.exports = [\n  \"$scope\",\"$modalInstance\",\"image\",\"$http\"\n  ($scope,$modalInstance,image,$http)->\n    console.log \"upload Modal Controller\",image\n    $scope.image = image;\n    $scope.upload = ->\n      $http.post \"/api.php/upload/data\",image\n    $scope.delete = ->\n      http = $http.post \"/api.php/image/delete/#{$scope.image.category}/#{$scope.image.hashed_name}\"\n      http.success (data)->\n        if data.status == \"OK\"\n          $modalInstance.close \"deleted\";\n        else\n          $modalInstance.close \"undefinedError\";\n      http.error (data)->\n        $modalInstance.close \"failToDelete\";\n    $scope.ok = ->\n      $modalInstance.dismiss \"cancel\"\n    $scope.cancel = ->\n      $modalInstance.dismiss \"cancel\"\n\n\n]\n\n\n/** WEBPACK FOOTER **\n ** ./sample/coffee/ctrl/imageModalController.coffee\n **/"],"sourceRoot":"","file":"sample/js/common.js"}